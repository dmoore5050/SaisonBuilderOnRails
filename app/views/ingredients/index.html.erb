<h2 class="page_head">Ingredients List</h2>

<div class='wrapper left_justify'>
  <ul>
  <% (1..7).each do | type | %>
    <% @ingredients.each do | ingredient | %>
      <% if ingredient.type_code == type.to_s %>
        <li id='ingredient_list'>
          <% if ingredient.user_id.nil? %>
            <%= render "print_ingredient_line", ingredient: ingredient %>
          <% else %>
            <% if current_user.id == ingredient.user_id %>
              <span class="left">
                <%= render "print_ingredient_line", ingredient: ingredient %>
              </span>
              <%= form_for ingredient do |f| %>
                <%= button_to 'Delete', ingredients_path(ingredient), { method: :delete, :class => "delete_button" } %>
              <% end %>
            <% end %>
          <% end %>
          <% @i += 1 %>
        </li>
      <% end %>
    <% end %>
  <% end %>
  </ul>
</div>

<% if current_user %>
  <%= button_to 'Add Ingredient', new_ingredient_path, :class => 'add_record_button', type: 'button', method: :get %>
<% end %>

<% unless current_user %>
 <span class="center"><%= link_to "Log in", user_session_path %> to add a Recipe</span>
<% end %>